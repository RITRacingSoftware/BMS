% This component was automatically generated using 'subsystem2ssc'. 
%   Subsystem: AccumulatorModel/CellGroup1 
%   MATLAB version: 9.8 
%   Simulink version: 10.1 
%   Simscape version: 4.8 
%   Generated on: 06-Aug-2020 02:11:26

component (Propagation = blocks) CellGroup1
  variables
    Cell3StateOfCharge = {value = .741, priority = priority.high}; %stateOfCharge
    Cell2StateOfCharge = {value = .741, priority = priority.high}; %stateOfCharge
    Cell1StateOfCharge = {value = .741, priority = priority.high}; %stateOfCharge
  end
  inputs
    DischargeSig = {0.0, 'V'};
  end
  outputs
    VoltageSig = {0.0, 'V'};
  end
  nodes
    InConn = foundation.electrical.electrical;
    OutConn = foundation.electrical.electrical;
    HeatConn = foundation.thermal.thermal;
  end
  components(ExternalAccess = observe)
    Voltage_Sensor = foundation.electrical.sensors.voltage;
    R1 = foundation.electrical.elements.resistor(R = {20, 'Ohm'});
    MOSFET_Ideal_Switching = ee.semiconductors.mosfet_ideal.ps(Rds = {.01, 'Ohm'}, Goff = {1e-06, '1/Ohm'}, Vth = {2, 'V'}, diode_param = 1);
    D1 = foundation.electrical.elements.pwl_diode(Vf = {.6, 'V'}, Ron = {.3, 'Ohm'}, Goff = {1e-08, '1/Ohm'});
    Convective_Heat_Transfer1 = foundation.thermal.elements.convection(area = {.005328, 'm^2'}, heat_tr_coeff = {5, 'W/(m^2*K)'});
    Convective_Heat_Transfer = foundation.thermal.elements.convection(area = {.005328, 'm^2'}, heat_tr_coeff = {5, 'W/(m^2*K)'});
    Bat3 = ee.sources.table_battery_thermal_instrumented(SOC_vec = [.1; .2; .30000000000000004; .4; .5; .6; .7; .8; .9; 1], T_dependence = int32(1), T_vec = {[278.15, 293.15, 313.15], 'K'}, V0_mat = {[3.484071948758526, 3.493739062536317, 3.50592874552606; 3.5541808071614907, 3.552595705585195, 3.555083121128445; 3.6044040443122967, 3.6141023090205424, 3.6151536038373764; 3.643214893049472, 3.648966596800839, 3.656857038962137; 3.685021778471193, 3.6886419277998765, 3.6963967948473613; 3.744226058900889, 3.7439892163394637, 3.751057842880724; 3.8296786735067085, 3.83940080415011, 3.85325138336218; 3.9431591703396216, 3.948543127027624, 3.9560833530956043; 4.059438125776726, 4.060948282815366, 4.065656329049829; 4.190490294770822, 4.1903018129097145, 4.1879923115457895], 'V'}, R0_mat = {[.016402552035383777, .009913915939177793, .009331684371688619; .011960095659784205, .008750436352383408, .00956154423893035; .011985306861082618, .00832297953681552, .008544551821552232; .011133064332470535, .008720618502532883, .009561393749936819; .011822289585725038, .007959094449601854, .008807547901796097; .011674834293905348, .008565480569262032, .00938193010301517; .011276858001519346, .00843330788647423, .009966490919645169; .01189337959966954, .008503341861624948, .009600196591940773; .012032134824206179, .00846602435735512, .00963753251603531; .012409815648205699, .008465397532295662, .00929821710866923], 'Ohm'}, AH_vec = {[4, 4, 4], 'hr*A'}, prm_leak = int32(1), extrapolation_option = int32(1), prm_dyn = int32(4), R1_mat = {[.004705179370002992, .0002936383947291668, .0009485466783062618; .0029027505072525372, .00090641529499803, .00028712754393183146; .0017388475746617222, .0012650813888549967, .001183550476964096; .0016686773918573833, .00031462182386742877, .0002691940231970885; .0009224171694582589, .0011525474020772362, .0006159579622465195; .001206013151964322, .0004844964318485774, .00026371910508476005; .0013410701441833462, .000722662778209487, 4.844409379391088e-05; .0010272832361552405, .0007885935658913694, .00028748237598431994; .0010711264474030965, .0008089646458857114, .0002074259913330535; .0010976291115986786, .0007946321631726804, .00010686400469049681], 'Ohm'}, tau1_mat = {[13.587160558130032, 9.715440434583373, 4.31542721208131; 12.548173543530547, 12.120019211778336, 22.764023395501695; 7.483370104873855, 12.037071085656127, 8.29042934523224; 9.445424497196484, 10.905474514472562, 9.511135920972999; 9.24780665009956, 9.251314581323093, 4.6869487846894815; 13.019370645009339, 13.4646058128269, 7.730655063912899; 11.269404905207718, 10.252335712000312, 10.843035339480794; 10.584947916059184, 10.042183908695579, 10.967897183948233; 9.253757496562546, 9.650772267034586, 11.697551614479334; 10.018955095019622, 10.084883411377689, 9.8777442533331], 's'}, R2_mat = {[.0006840646943050588, .0009794208865725402, .0005101717874381079; .0025199126996687977, .000998429425096649, .0001435140731009635; .0014606856212607548, .0010142182617924743, .0005706555331997221; .001698306195140146, .0010868338649932367, .00020842313400595188; .0016703114392231898, .0009806185299059947, .0006512630035566126; .0009409787070589215, .0008780054707653544, .00032711532133810765; .0009871715528068687, .0008938420031986357, 9.253943540225076e-05; .0010502339493068458, .0009926137355423094, .00010735027786625632; .0010404049070893244, .0008680813635059108, 9.602820710920131e-05; .0009060322305101981, .0009133697684427371, .0004767537191694884], 'Ohm'}, tau2_mat = {[50.088642920436634, 61.445389898166106, 145.884876037851; 74.68901983230872, 50.465934546173145, 86.13763043818213; 97.34374562491294, 84.58506076259972, 46.76599503470512; 69.58839172642043, 54.864790959058794, 95.82598824700358; ...
     84.22744577279543, 55.660369812490785, 49.888718171285554; 85.66793987644675, 66.79553729111733, 100.65873771186422; 91.05420173648457, 92.00374115437018, 98.72861686514337; 105.40195152174527, 81.04040072365966, 142.45956812463; 96.59779748721058, 90.83352092309256, 115.40102217052508; 93.39933319623553, 104.58287980958707, 83.78860547038471], 's'}, R3_mat = {[.006477281072847295, .002653018758164484, .0038243734112198323; .0036173797700476775, .0011198167603976494, .0033508445801703436; .0034458561966910577, .0016175281362590607, 6.995409219030323e-05; .0031534659782466107, .0013015328075959092, .0012866080749013007; .0020941069241121003, .001754713894370799, .000316666511381357; .0019150938645515364, .000370366587789619, .00033579353662584676; .0005728346191482224, .0009251386870193949, .0003300915269813026; .0011388683546271047, .000867792101494099, .0008012842913055559; .0010107248830160123, .000662353437832612, 1.768274865135993e-05; .0010933855476763627, .0003298882388586827, 7.935890665777928e-05], 'Ohm'}, tau3_mat = {[701.9946432256091, 650.0073342568278, 4085.7982543884395; 925.8234290718316, 649.8549409055001, 4973.41475833222; 789.3332299233869, 938.7252737956705, 279.00219852150224; 654.5945641276944, 349.41904495125544, 894.4408244452444; 541.309382097595, 983.4442697942727, 2138.1858138024504; 689.2890318460173, 958.5700325644483, 882.6781119476431; 601.673035616931, 962.0885566550442, 358.8677608316765; 466.37791157338773, 402.2209305987478, 253.37395679925945; 329.01251163460944, 405.71260099344164, 527.0262567259963; 499.9609118488001, 568.2598865827243, 628.42296933896], 's'}, prm_fade = int32(1), N0 = 100, dV0 = 0, dR0 = 0, dAH = 0, dR1 = 0, dR2 = 0, dR3 = 0, thermal_mass = {42.962399999999995, 'J/K'}, temperature = {value = {293.15, 'K'}, priority = priority.high}, stateOfCharge.priority = priority.none);
    Bat2 = ee.sources.table_battery_thermal_instrumented(SOC_vec = [.1; .2; .30000000000000004; .4; .5; .6; .7; .8; .9; 1], T_dependence = int32(1), T_vec = {[278.15, 293.15, 313.15], 'K'}, V0_mat = {[3.484071948758526, 3.493739062536317, 3.50592874552606; 3.5541808071614907, 3.552595705585195, 3.555083121128445; 3.6044040443122967, 3.6141023090205424, 3.6151536038373764; 3.643214893049472, 3.648966596800839, 3.656857038962137; 3.685021778471193, 3.6886419277998765, 3.6963967948473613; 3.744226058900889, 3.7439892163394637, 3.751057842880724; 3.8296786735067085, 3.83940080415011, 3.85325138336218; 3.9431591703396216, 3.948543127027624, 3.9560833530956043; 4.059438125776726, 4.060948282815366, 4.065656329049829; 4.190490294770822, 4.1903018129097145, 4.1879923115457895], 'V'}, R0_mat = {[.016402552035383777, .009913915939177793, .009331684371688619; .011960095659784205, .008750436352383408, .00956154423893035; .011985306861082618, .00832297953681552, .008544551821552232; .011133064332470535, .008720618502532883, .009561393749936819; .011822289585725038, .007959094449601854, .008807547901796097; .011674834293905348, .008565480569262032, .00938193010301517; .011276858001519346, .00843330788647423, .009966490919645169; .01189337959966954, .008503341861624948, .009600196591940773; .012032134824206179, .00846602435735512, .00963753251603531; .012409815648205699, .008465397532295662, .00929821710866923], 'Ohm'}, AH_vec = {[4, 4, 4], 'hr*A'}, prm_leak = int32(1), extrapolation_option = int32(1), prm_dyn = int32(4), R1_mat = {[.004705179370002992, .0002936383947291668, .0009485466783062618; .0029027505072525372, .00090641529499803, .00028712754393183146; .0017388475746617222, .0012650813888549967, .001183550476964096; .0016686773918573833, .00031462182386742877, .0002691940231970885; .0009224171694582589, .0011525474020772362, .0006159579622465195; .001206013151964322, .0004844964318485774, .00026371910508476005; .0013410701441833462, .000722662778209487, 4.844409379391088e-05; .0010272832361552405, .0007885935658913694, .00028748237598431994; .0010711264474030965, .0008089646458857114, .0002074259913330535; .0010976291115986786, .0007946321631726804, .00010686400469049681], 'Ohm'}, tau1_mat = {[13.587160558130032, 9.715440434583373, 4.31542721208131; 12.548173543530547, 12.120019211778336, 22.764023395501695; 7.483370104873855, 12.037071085656127, 8.29042934523224; 9.445424497196484, 10.905474514472562, 9.511135920972999; 9.24780665009956, 9.251314581323093, 4.6869487846894815; 13.019370645009339, 13.4646058128269, 7.730655063912899; 11.269404905207718, 10.252335712000312, 10.843035339480794; 10.584947916059184, 10.042183908695579, 10.967897183948233; 9.253757496562546, 9.650772267034586, 11.697551614479334; 10.018955095019622, 10.084883411377689, 9.8777442533331], 's'}, R2_mat = {[.0006840646943050588, .0009794208865725402, .0005101717874381079; .0025199126996687977, .000998429425096649, .0001435140731009635; .0014606856212607548, .0010142182617924743, .0005706555331997221; .001698306195140146, .0010868338649932367, .00020842313400595188; .0016703114392231898, .0009806185299059947, .0006512630035566126; .0009409787070589215, .0008780054707653544, .00032711532133810765; .0009871715528068687, .0008938420031986357, 9.253943540225076e-05; .0010502339493068458, .0009926137355423094, .00010735027786625632; .0010404049070893244, .0008680813635059108, 9.602820710920131e-05; .0009060322305101981, .0009133697684427371, .0004767537191694884], 'Ohm'}, tau2_mat = {[50.088642920436634, 61.445389898166106, 145.884876037851; 74.68901983230872, 50.465934546173145, 86.13763043818213; 97.34374562491294, 84.58506076259972, 46.76599503470512; 69.58839172642043, 54.864790959058794, 95.82598824700358; ...
     84.22744577279543, 55.660369812490785, 49.888718171285554; 85.66793987644675, 66.79553729111733, 100.65873771186422; 91.05420173648457, 92.00374115437018, 98.72861686514337; 105.40195152174527, 81.04040072365966, 142.45956812463; 96.59779748721058, 90.83352092309256, 115.40102217052508; 93.39933319623553, 104.58287980958707, 83.78860547038471], 's'}, R3_mat = {[.006477281072847295, .002653018758164484, .0038243734112198323; .0036173797700476775, .0011198167603976494, .0033508445801703436; .0034458561966910577, .0016175281362590607, 6.995409219030323e-05; .0031534659782466107, .0013015328075959092, .0012866080749013007; .0020941069241121003, .001754713894370799, .000316666511381357; .0019150938645515364, .000370366587789619, .00033579353662584676; .0005728346191482224, .0009251386870193949, .0003300915269813026; .0011388683546271047, .000867792101494099, .0008012842913055559; .0010107248830160123, .000662353437832612, 1.768274865135993e-05; .0010933855476763627, .0003298882388586827, 7.935890665777928e-05], 'Ohm'}, tau3_mat = {[701.9946432256091, 650.0073342568278, 4085.7982543884395; 925.8234290718316, 649.8549409055001, 4973.41475833222; 789.3332299233869, 938.7252737956705, 279.00219852150224; 654.5945641276944, 349.41904495125544, 894.4408244452444; 541.309382097595, 983.4442697942727, 2138.1858138024504; 689.2890318460173, 958.5700325644483, 882.6781119476431; 601.673035616931, 962.0885566550442, 358.8677608316765; 466.37791157338773, 402.2209305987478, 253.37395679925945; 329.01251163460944, 405.71260099344164, 527.0262567259963; 499.9609118488001, 568.2598865827243, 628.42296933896], 's'}, prm_fade = int32(1), N0 = 100, dV0 = 0, dR0 = 0, dAH = 0, dR1 = 0, dR2 = 0, dR3 = 0, thermal_mass = {42.962399999999995, 'J/K'}, temperature = {value = {293.15, 'K'}, priority = priority.high}, stateOfCharge.priority = priority.none);
    Bat1 = ee.sources.table_battery_thermal_instrumented(SOC_vec = [.1; .2; .30000000000000004; .4; .5; .6; .7; .8; .9; 1], T_dependence = int32(1), T_vec = {[278.15, 293.15, 313.15], 'K'}, V0_mat = {[3.484071948758526, 3.493739062536317, 3.50592874552606; 3.5541808071614907, 3.552595705585195, 3.555083121128445; 3.6044040443122967, 3.6141023090205424, 3.6151536038373764; 3.643214893049472, 3.648966596800839, 3.656857038962137; 3.685021778471193, 3.6886419277998765, 3.6963967948473613; 3.744226058900889, 3.7439892163394637, 3.751057842880724; 3.8296786735067085, 3.83940080415011, 3.85325138336218; 3.9431591703396216, 3.948543127027624, 3.9560833530956043; 4.059438125776726, 4.060948282815366, 4.065656329049829; 4.190490294770822, 4.1903018129097145, 4.1879923115457895], 'V'}, R0_mat = {[.016402552035383777, .009913915939177793, .009331684371688619; .011960095659784205, .008750436352383408, .00956154423893035; .011985306861082618, .00832297953681552, .008544551821552232; .011133064332470535, .008720618502532883, .009561393749936819; .011822289585725038, .007959094449601854, .008807547901796097; .011674834293905348, .008565480569262032, .00938193010301517; .011276858001519346, .00843330788647423, .009966490919645169; .01189337959966954, .008503341861624948, .009600196591940773; .012032134824206179, .00846602435735512, .00963753251603531; .012409815648205699, .008465397532295662, .00929821710866923], 'Ohm'}, AH_vec = {[4, 4, 4], 'hr*A'}, prm_leak = int32(1), extrapolation_option = int32(1), prm_dyn = int32(4), R1_mat = {[.004705179370002992, .0002936383947291668, .0009485466783062618; .0029027505072525372, .00090641529499803, .00028712754393183146; .0017388475746617222, .0012650813888549967, .001183550476964096; .0016686773918573833, .00031462182386742877, .0002691940231970885; .0009224171694582589, .0011525474020772362, .0006159579622465195; .001206013151964322, .0004844964318485774, .00026371910508476005; .0013410701441833462, .000722662778209487, 4.844409379391088e-05; .0010272832361552405, .0007885935658913694, .00028748237598431994; .0010711264474030965, .0008089646458857114, .0002074259913330535; .0010976291115986786, .0007946321631726804, .00010686400469049681], 'Ohm'}, tau1_mat = {[13.587160558130032, 9.715440434583373, 4.31542721208131; 12.548173543530547, 12.120019211778336, 22.764023395501695; 7.483370104873855, 12.037071085656127, 8.29042934523224; 9.445424497196484, 10.905474514472562, 9.511135920972999; 9.24780665009956, 9.251314581323093, 4.6869487846894815; 13.019370645009339, 13.4646058128269, 7.730655063912899; 11.269404905207718, 10.252335712000312, 10.843035339480794; 10.584947916059184, 10.042183908695579, 10.967897183948233; 9.253757496562546, 9.650772267034586, 11.697551614479334; 10.018955095019622, 10.084883411377689, 9.8777442533331], 's'}, R2_mat = {[.0006840646943050588, .0009794208865725402, .0005101717874381079; .0025199126996687977, .000998429425096649, .0001435140731009635; .0014606856212607548, .0010142182617924743, .0005706555331997221; .001698306195140146, .0010868338649932367, .00020842313400595188; .0016703114392231898, .0009806185299059947, .0006512630035566126; .0009409787070589215, .0008780054707653544, .00032711532133810765; .0009871715528068687, .0008938420031986357, 9.253943540225076e-05; .0010502339493068458, .0009926137355423094, .00010735027786625632; .0010404049070893244, .0008680813635059108, 9.602820710920131e-05; .0009060322305101981, .0009133697684427371, .0004767537191694884], 'Ohm'}, tau2_mat = {[50.088642920436634, 61.445389898166106, 145.884876037851; 74.68901983230872, 50.465934546173145, 86.13763043818213; 97.34374562491294, 84.58506076259972, 46.76599503470512; 69.58839172642043, 54.864790959058794, 95.82598824700358; ...
     84.22744577279543, 55.660369812490785, 49.888718171285554; 85.66793987644675, 66.79553729111733, 100.65873771186422; 91.05420173648457, 92.00374115437018, 98.72861686514337; 105.40195152174527, 81.04040072365966, 142.45956812463; 96.59779748721058, 90.83352092309256, 115.40102217052508; 93.39933319623553, 104.58287980958707, 83.78860547038471], 's'}, R3_mat = {[.006477281072847295, .002653018758164484, .0038243734112198323; .0036173797700476775, .0011198167603976494, .0033508445801703436; .0034458561966910577, .0016175281362590607, 6.995409219030323e-05; .0031534659782466107, .0013015328075959092, .0012866080749013007; .0020941069241121003, .001754713894370799, .000316666511381357; .0019150938645515364, .000370366587789619, .00033579353662584676; .0005728346191482224, .0009251386870193949, .0003300915269813026; .0011388683546271047, .000867792101494099, .0008012842913055559; .0010107248830160123, .000662353437832612, 1.768274865135993e-05; .0010933855476763627, .0003298882388586827, 7.935890665777928e-05], 'Ohm'}, tau3_mat = {[701.9946432256091, 650.0073342568278, 4085.7982543884395; 925.8234290718316, 649.8549409055001, 4973.41475833222; 789.3332299233869, 938.7252737956705, 279.00219852150224; 654.5945641276944, 349.41904495125544, 894.4408244452444; 541.309382097595, 983.4442697942727, 2138.1858138024504; 689.2890318460173, 958.5700325644483, 882.6781119476431; 601.673035616931, 962.0885566550442, 358.8677608316765; 466.37791157338773, 402.2209305987478, 253.37395679925945; 329.01251163460944, 405.71260099344164, 527.0262567259963; 499.9609118488001, 568.2598865827243, 628.42296933896], 's'}, prm_fade = int32(1), N0 = 100, dV0 = 0, dR0 = 0, dAH = 0, dR1 = 0, dR2 = 0, dR3 = 0, thermal_mass = {42.962399999999995, 'J/K'}, temperature = {value = {293.15, 'K'}, priority = priority.high}, stateOfCharge.priority = priority.none);
  end
  connections
    connect(Voltage_Sensor.V,VoltageSig);
    connect(DischargeSig,MOSFET_Ideal_Switching.G);
    connect(MOSFET_Ideal_Switching.S,R1.n);
    connect(HeatConn,Bat3.H);
    connect(HeatConn,Convective_Heat_Transfer.B);
    connect(Bat2.H,Convective_Heat_Transfer.A);
    connect(Bat2.H,Convective_Heat_Transfer1.B);
    connect(OutConn,Bat1.p);
    connect(OutConn,Bat2.p);
    connect(OutConn,Bat3.p);
    connect(OutConn,D1.p);
    connect(OutConn,Voltage_Sensor.p);
    connect(D1.n,MOSFET_Ideal_Switching.D);
    connect(InConn,Bat1.n);
    connect(InConn,Bat2.n);
    connect(InConn,Bat3.n);
    connect(InConn,R1.p);
    connect(InConn,Voltage_Sensor.n);
    connect(Bat1.H,Convective_Heat_Transfer1.A);
  end
  equations 
    Bat1.stateOfCharge == Cell1StateOfCharge;
    Bat2.stateOfCharge == Cell2StateOfCharge;
    Bat3.stateOfCharge == Cell3StateOfCharge;
  end
end
